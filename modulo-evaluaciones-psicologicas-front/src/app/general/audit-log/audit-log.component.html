<app-nav></app-nav>
<div class="clinic-container my-8">
  <div class="bg-white rounded-lg shadow p-6">
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-lg font-semibold">Registros de auditoría</h3>
    <div class="flex gap-2">
      <input type="date" [(ngModel)]="from" class="form-input" />
      <input type="date" [(ngModel)]="to" class="form-input" />
      <button class="btn-primary" (click)="load()">Filtrar</button>
    </div>
  </div>

  <div *ngIf="loading" class="text-sm text-gray-500">Cargando...</div>
  <table class="min-w-full bg-white shadow rounded overflow-hidden">
    <thead>
      <tr class="text-left bg-gray-50">
        <th class="px-4 py-2">Usuario</th>
        <th class="px-4 py-2">Acción</th>
        <th class="px-4 py-2">Endpoint</th>
        <th class="px-4 py-2">IP</th>
        <th class="px-4 py-2">UA</th>
        <th class="px-4 py-2">Éxito</th>
        <th class="px-4 py-2">Fecha</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let l of logs" class="hover:bg-gray-50">
        <td class="px-4 py-2">{{ l.user }}</td>
        <td class="px-4 py-2">{{ l.action }}</td>
        <td class="px-4 py-2">{{ l.endpoint }}</td>
        <td class="px-4 py-2">{{ l.ip }}</td>
        <td class="px-4 py-2">{{ l.userAgent }}</td>
        <td class="px-4 py-2">{{ l.success ? 'Sí' : 'No' }}</td>
        <td class="px-4 py-2">{{ l.timestamp | date:'short' }}</td>
      </tr>
    </tbody>
  </table>

  <div class="flex justify-between items-center mt-4">
    <button class="btn-outline" (click)="prevPage()">Anterior</button>
    <div class="text-sm text-gray-500">Página {{ page + 1 }}</div>
    <button class="btn-outline" (click)="nextPage()">Siguiente</button>
  </div>
  </div>
</div>
