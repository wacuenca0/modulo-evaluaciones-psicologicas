=== API GATEWAY ===
Base URL: http://localhost:8080
Routes:
- /catalogos/** -> servicio-catalogos (http://localhost:8081)
- /gestion/** -> servicio-gestion (http://localhost:8082)
- /documentos/** -> servicio-documentos (http://localhost:8083)

Usa cabecera Authorization: "Bearer <token>" para endpoints protegidos. Obtén el token con el login de servicio-catalogos.

=== SERVICIO-CATALOGOS ===
Base directa: http://localhost:8081
Base via gateway: http://localhost:8080/catalogos
Roles esperados: ADMINISTRADOR, PSICOLOGO

[AUTH]
POST    /api/auth/login                          (sin autenticación) -> Genera JWT a partir de credenciales (body LoginRequestDTO).
GET     /api/auth/current-user                   (cualquier usuario autenticado) -> Retorna información del usuario actual.

[DEV]
GET     /api/dev/hash?pwd=valor                  (sin autenticación) -> Devuelve hash BCrypt para la contraseña enviada.

[ROLES]
GET     /api/roles                               (ROLE_ADMINISTRADOR) -> Lista todos los roles disponibles.

[USUARIOS]
GET     /api/users                               (ROLE_ADMINISTRADOR) -> Lista usuarios registrados.
POST    /api/users                               (ROLE_ADMINISTRADOR) -> Crea un usuario (body CreateUserRequestDTO).
PUT     /api/users                               (ROLE_ADMINISTRADOR) -> Actualiza un usuario (body UpdateUserRequestDTO).
DELETE  /api/users/{username}                    (ROLE_ADMINISTRADOR) -> Elimina un usuario por su username.

[CATALOGO CIE10]
GET     /api/catalogo-cie10                      (ROLES ADMINISTRADOR o PSICOLOGO) -> Lista códigos CIE10; query opcional soloActivos=true filtra activos.
GET     /api/catalogo-cie10/{id}                 (ROLES ADMINISTRADOR o PSICOLOGO) -> Obtiene detalle de un código por id.
POST    /api/catalogo-cie10                      (ROLE_ADMINISTRADOR) -> Crea un código CIE10 (body CatalogoCIE10DTO).
PUT     /api/catalogo-cie10/{id}                 (ROLE_ADMINISTRADOR) -> Actualiza un código existente.

=== SERVICIO-DOCUMENTOS ===
Base directa: http://localhost:8083
Base via gateway: http://localhost:8080/documentos
Rol requerido: ROLE_PSICOLOGO para todas las rutas /api/documentos/**

[TIPOS DE DOCUMENTO]
GET     /api/documentos/tipos                    -> Lista tipos de documento.
GET     /api/documentos/tipos/{id}               -> Detalle de un tipo por id.
POST    /api/documentos/tipos                    -> Crea un nuevo tipo (body TipoDocumentoDTO).
PUT     /api/documentos/tipos/{id}               -> Actualiza un tipo existente.
DELETE  /api/documentos/tipos/{id}               -> Elimina permanentemente un tipo.

[FICHAS HISTORICAS]
GET     /api/documentos/fichas-historicas?cedula=XXXX   -> Lista fichas históricas por cédula.
GET     /api/documentos/fichas-historicas/{id}          -> Obtiene ficha histórica por id.
POST    /api/documentos/fichas-historicas               -> Crea una nueva ficha histórica (body FichaHistoricaDTO).
PUT     /api/documentos/fichas-historicas/{id}          -> Actualiza ficha histórica existente.
DELETE  /api/documentos/fichas-historicas/{id}          -> Elimina ficha histórica (baja permanente).

[DOCUMENTOS DE FICHA]
GET     /api/documentos/fichas/{fichaId}/documentos     -> Lista documentos activos asociados a una ficha.
GET     /api/documentos/documentos/{id}                 -> Detalle de un documento por id.
POST    /api/documentos/documentos                      -> Crea documento asociado a ficha (body DocumentoFichaDTO).
PUT     /api/documentos/documentos/{id}                 -> Actualiza metadatos del documento.
DELETE  /api/documentos/documentos/{id}                 -> Inactiva (baja lógica) un documento.

=== SERVICIO-GESTION ===
Base directa: http://localhost:8082
Base via gateway: http://localhost:8080/gestion
Estado: No expone endpoints REST activos en esta versión (controladores en preparación).
